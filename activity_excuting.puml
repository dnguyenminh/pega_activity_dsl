@startuml
skinparam classAttributeIconSize 0

class DataPage {
  +name : String
  +className : String
  +dataSource : String
  +loadActivity : String
  +parameters : Map
  +scope : String
  +type : String
  +refreshStrategy : String
  +savePlan : String
  +loadManagement : String
  +pagesAndClasses : String
  +usage : String
  +instances : List<DataPageInstance>
}

class DataPageInstance {
  +key : String
  +createdAt : Date
  +expired : Boolean
}

class DataTransform {
  +name : String
  +description : String
  +settings : Map
  +pagesAndClasses : String
  +actions : List<Action>
  +autoMap : Boolean
  +forEach : List<String>
  +whenConditions : String
  +sortCriteria : String
}

class Activity {
  +name : String
  +className : String
  +activityType : String
  +context : String
  +access : String
  +parameters : List<String>
  +localVariables : List<String>
  +steps : List<Step>
  +pagesAndClasses : String
  +security : String
  +history : String
  +exceptionHandling : String
  +methodsCalled : List<String>
}

class WhenRule {
  +name : String
  +conditions : String
  +pagesAndClasses : String
  +advancedOptions : String
}

class FunctionRule {
  +name : String
  +javaCode : String
  +aliases : List<String>
  +traceable : Boolean
}

class LibraryRule {
  +name : String
  +functions : List<FunctionRule>
}

class Property {
  +name : String
  +mode : String
  +type : String
  +qualifiers : String
  +advancedSettings : String
}

class DecisionTable {
  +name : String
}
class DecisionTree {
  +name : String
}
class ValidateRule {
  +name : String
}
class ConstraintRule {
  +name : String
}
class Message {
  +id : String
  +text : String
  +severity : String
}
class Paragraph {
  +id : String
  +content : String
}
class MapValue {
  +name : String
}
class FieldValue {
  +name : String
}
class CorrespondenceRule {
  +name : String
  +type : String
}
class Notification {
  +name : String
}

DataPage "1" *-- "0..*" DataPageInstance : creates
DataPage --> WhenRule : "refresh check uses"
DataPage --> Activity : "load activity"
Activity --> DataTransform : "may call / reference"
Activity --> Property : "reads/writes"
Activity --> WhenRule : "evaluates"
DataTransform --> Property : "maps ->"
LibraryRule o-- FunctionRule : contains
FunctionRule --> Activity : "invoked by"
FunctionRule --> DataTransform : "invoked by"
WhenRule --> Property : "references"
DecisionTable --> Property : "operates on"
DecisionTree --> Property : "operates on"
ValidateRule --> Property : "validates"
ConstraintRule --> Property : "constraints for"
CorrespondenceRule --> Message : "uses"
Notification --> Activity : "triggered by"

note left of DataPage
  Doc sections:
  - Data pages (scope, types, refresh)
  - Data page instances & parameters
end note

note right of DataTransform
  Doc sections:
  - Data Transforms (actions: Set, Remove, ForEach, Append, MapTo, AutoMap, Apply, Sort, UpdatePage, When)
end note

note top of Activity
  Doc sections:
  - Activities (steps, methods/instructions, types, libraries)
end note

@enduml